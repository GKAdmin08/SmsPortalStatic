(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9306:function(e,t,a){Promise.resolve().then(a.bind(a,1641))},1641:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return j}});var s=a(7437),n=a(2265),r=a(6648);let l={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",maxWidth:"400px",margin:"auto",padding:"20px",border:"1px solid #ccc",borderRadius:"8px",backgroundColor:"#fff"};var i=e=>{let{onLogin:t}=e,[a,r]=(0,n.useState)(""),[i,d]=(0,n.useState)(""),[c,u]=(0,n.useState)("");return(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),JSON.parse('[{"username":"mirza","password":"SKG2024skg!"},{"username":"alexum","password":"AX2024ax!"}]').some(e=>e.username===a&&e.password===i)?t(!0):u("Ogiltiga inloggningsuppgifter")},style:l,children:[(0,s.jsx)("h2",{children:"Logga in"}),c&&(0,s.jsx)("p",{style:{color:"red"},children:c}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Anv\xe4ndarnamn:"}),(0,s.jsx)("input",{type:"text",value:a,onChange:e=>r(e.target.value),required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"L\xf6senord:"}),(0,s.jsx)("input",{type:"password",value:i,onChange:e=>d(e.target.value),required:!0})]}),(0,s.jsx)("button",{type:"submit",children:"Logga in"})]})},d=a(8472);let c=d.Z.create({baseURL:"https://sms.alxm.se",auth:{username:"t0w-dIll135-f0rG0n3-duAn",password:"Juy%jjSbu#SJXvs^gcYVs7a3k#HhKK9G#%b&7kfHV2czWuFRMrBwtNMkh5gJ"},withCredentials:!0});var u=()=>{let[e,t]=(0,n.useState)(""),[a,r]=(0,n.useState)(""),[l,i]=(0,n.useState)(""),[d,u]=(0,n.useState)(null),[o,h]=(0,n.useState)(null),x=async t=>{if(t.preventDefault(),h(null),u(null),!/^[a-zA-Z]{1,10}$/.test(e)){h("Avs\xe4ndarnamn m\xe5ste bara vara engelska bokst\xe4ver och upp till 10 tecken.");return}try{let t=p(a);await c.post("/send-sms",{from:e,to:t,message:l}),u("SMS skickades framg\xe5ngsrikt!")}catch(e){h("Fel vid skickning av SMS: ".concat(e.response?e.response.data:e.message))}},p=e=>{let t=e.replace(/\D/g,"");return t.startsWith("0")?"+46".concat(t.slice(1)):t.startsWith("+")?t:"+46".concat(t)};return(0,s.jsxs)("form",{onSubmit:x,children:[(0,s.jsx)("h2",{children:"Skicka enstaka SMS"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Fr\xe5n:"}),(0,s.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Till:"}),(0,s.jsx)("input",{type:"text",value:a,onChange:e=>r(e.target.value),required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{children:["Meddelande (",l.length,"/",160,"):"]}),(0,s.jsx)("textarea",{value:l,onChange:e=>i(e.target.value),maxLength:160,required:!0})]}),(0,s.jsx)("button",{type:"submit",children:"Skicka SMS"}),d&&(0,s.jsx)("p",{style:{color:"green"},children:d}),o&&(0,s.jsx)("p",{style:{color:"red"},children:o})]})},o=()=>{let[e,t]=(0,n.useState)(""),[a,r]=(0,n.useState)(""),[l,i]=(0,n.useState)(null),[d,u]=(0,n.useState)(null),[o,h]=(0,n.useState)(null),x=async t=>{if(t.preventDefault(),h(null),u(null),!/^[a-zA-Z]{1,10}$/.test(e)){h("Avs\xe4ndarnamn m\xe5ste bara vara engelska bokst\xe4ver och upp till 10 tecken.");return}let s=new FormData;s.append("file",l),s.append("from",e),s.append("message",a);try{await c.post("/upload-excel",s,{headers:{"Content-Type":"multipart/form-data"}}),u("Excel-fil bearbetades framg\xe5ngsrikt!")}catch(e){h("Fel vid uppladdning av fil: ".concat(e.response?e.response.data:e.message))}};return(0,s.jsxs)("form",{onSubmit:x,children:[(0,s.jsx)("h2",{children:"Ladda upp Excel-fil"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Fr\xe5n:"}),(0,s.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{children:["Meddelande (",a.length,"/",160,"):"]}),(0,s.jsx)("textarea",{value:a,onChange:e=>r(e.target.value),maxLength:160,required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Excel-fil:"}),(0,s.jsx)("input",{type:"file",onChange:e=>{i(e.target.files[0])},required:!0})]}),(0,s.jsx)("button",{type:"submit",children:"Ladda upp och skicka SMS"}),d&&(0,s.jsx)("p",{style:{color:"green"},children:d}),o&&(0,s.jsx)("p",{style:{color:"red"},children:o}),(0,s.jsx)("p",{style:{color:"#0C2C49"},children:'Programmet fungerar b\xe4ttre om numren \xe4r formaterade som "+46761010101" och Excel-filen ska ha en kolumn med namnet "Mobil" och numret ska vara under den kolumnen.'})]})};let h={display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"20px"};var x=()=>{let[e,t]=(0,n.useState)(""),[a,r]=(0,n.useState)(""),[l,i]=(0,n.useState)(""),[d,u]=(0,n.useState)([]),[o,x]=(0,n.useState)(0),[p,g]=(0,n.useState)(1),[j,m]=(0,n.useState)(1),[v,S]=(0,n.useState)(null);(0,n.useEffect)(()=>{let e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1),a=new Date(e.getFullYear(),e.getMonth()+1,0);r(t.toISOString().split("T")[0]),i(a.toISOString().split("T")[0])},[]);let b=async t=>{t.preventDefault(),S(null);try{let t=await c.get("/search-logs",{params:{from:e,startDate:a,endDate:l,page:p,limit:50}});u(t.data.logs),x(t.data.totalResults),m(t.data.totalPages)}catch(e){S("Error fetching logs: ".concat(e.response?e.response.data.message:e.message))}},f=async()=>{p<j&&(await k(p+1),g(p+1))},y=async()=>{p>1&&(await k(p-1),g(p-1))},k=async t=>{try{let s=await c.get("/search-logs",{params:{from:e,startDate:a,endDate:l,page:t,limit:50}});u(s.data.logs),x(s.data.totalResults),m(s.data.totalPages)}catch(e){S("Error fetching logs: ".concat(e.response?e.response.data.message:e.message))}};return(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{children:"S\xf6k loggar"}),(0,s.jsxs)("form",{onSubmit:b,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Fr\xe5n:"}),(0,s.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Startdatum:"}),(0,s.jsx)("input",{type:"date",value:a,onChange:e=>r(e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Slutdatum:"}),(0,s.jsx)("input",{type:"date",value:l,onChange:e=>i(e.target.value)})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,s.jsx)("button",{type:"submit",children:"S\xf6k"}),o>0&&(0,s.jsxs)("p",{style:{marginLeft:"10px"},children:["Totalt antal resultat: ",o]})]})]}),v&&(0,s.jsx)("p",{style:{color:"red"},children:v}),(0,s.jsx)("div",{className:"table-container",children:d.length>0&&(0,s.jsxs)("table",{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Fr\xe5n"}),(0,s.jsx)("th",{children:"Till"}),(0,s.jsx)("th",{children:"Meddelande"}),(0,s.jsx)("th",{children:"Status"}),(0,s.jsx)("th",{children:"Skapad"})]})}),(0,s.jsx)("tbody",{children:d.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.from}),(0,s.jsx)("td",{children:e.to}),(0,s.jsx)("td",{children:e.message}),(0,s.jsx)("td",{children:e.status}),(0,s.jsx)("td",{children:new Date(e.created).toLocaleString()})]},e.smsId))})]})}),(0,s.jsxs)("div",{style:h,children:[(0,s.jsx)("button",{onClick:y,disabled:1===p,children:"F\xf6reg\xe5ende"}),(0,s.jsxs)("span",{children:["Sida ",p," av ",j]}),(0,s.jsx)("button",{onClick:f,disabled:p===j,children:"N\xe4sta"})]})]})};let p=d.Z.create({baseURL:"https://alxm.se",auth:{username:"t0w-dIll135-f0rG0n3-duAn",password:"Juy%jjSbu#SJXvs^gcYVs7a3k#HhKK9G#%b&7kfHV2czWuFRMrBwtNMkh5gJ"},withCredentials:!0});var g=()=>{let[e,t]=(0,n.useState)(""),[a,r]=(0,n.useState)(""),[l,i]=(0,n.useState)(""),d=async t=>{t.preventDefault(),i(""),r("");try{let t=await p.post("/create",{url:e});r(t.data.shortUrl)}catch(e){i("Error creating short link: ".concat(e.response?e.response.data.message:e.message))}};return(0,s.jsxs)("form",{onSubmit:d,children:[(0,s.jsx)("h2",{children:"F\xf6rkorta L\xe4nk"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"L\xe4nk:"}),(0,s.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,s.jsx)("button",{type:"submit",children:"F\xf6rkorta"}),a&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"F\xf6rkortad L\xe4nk:"}),(0,s.jsx)("input",{type:"text",value:a,readOnly:!0}),(0,s.jsx)("button",{onClick:()=>navigator.clipboard.writeText(a),children:"Kopiera"})]}),l&&(0,s.jsx)("p",{style:{color:"red"},children:l})]})},j=()=>{let[e,t]=(0,n.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"logo",children:(0,s.jsx)(r.default,{src:"/alexumbannerlogo.png",alt:"ALEXUM SMS Company Logo",width:250,height:30})}),(0,s.jsx)("div",{className:e?"container":"centered",children:e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"form-container",children:[(0,s.jsx)("h1",{children:"SMS API Interface"}),(0,s.jsx)(g,{}),(0,s.jsx)("div",{className:"divider"}),(0,s.jsx)(o,{}),(0,s.jsx)("div",{className:"divider"}),(0,s.jsx)(u,{})]}),(0,s.jsx)("div",{className:"logs-container",children:(0,s.jsx)(x,{})})]}):(0,s.jsx)("div",{className:"form-container",children:(0,s.jsx)(i,{onLogin:t})})})]})}}},function(e){e.O(0,[224,971,23,744],function(){return e(e.s=9306)}),_N_E=e.O()}]);